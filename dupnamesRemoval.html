
<!doctype>
<html>
    <head>
        <title>User info</title>
        
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
          <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
<style>
    body{
        padding-top:30px;
    }  
    
</style>
    </head>
    <body class="container" ng-app="myapp">
        
        <div ng-controller="myCtrl">
            <ul>
              <li ng-repeat="fren in friends"> {{fren}}
                </li>
            </ul>
            <input type="text" ng-model="newfren">
            
          <button remove-dup>Add Fren</button>
            <div></div>
            {{msg}}
        </div>
        <script>
            var app= angular.module('myapp', []);
            app.controller('myCtrl', function($scope){
                $scope.friends = ['sashi', 'kiran', 'leela'];
                $scope.msg="";
                
            });
            app.directive('removeDup', function(){
               return{
                   restrict:'EA',
                   
                   link:function(scope,element, attrs){
                       element.on('click', function(){
                           console.log(scope.friends);
                           console.log(scope.newfren);
                          if (scope.friends.indexOf(scope.newfren) >0){
                              scope.$apply(function(){
                                  scope.msg="DuplicateName";
                              });
                              
                          }
                           else{
                               scope.$apply(function(){
                                   scope.friends.push(scope.newfren); 
                                   scope.msg="Good name";
                               });
                               
                           }
                       });
                   }
                   
               } 
            });
        
        </script>
       
    </body>
</html>
        
        
        